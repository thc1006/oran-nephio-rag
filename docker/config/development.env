# O-RAN × Nephio RAG 開發環境配置
# 開發友好的設定，包含詳細日誌和調試功能

# ============ 應用基本設定 ============
APP_ENV=development
DEBUG=true
LOG_LEVEL=DEBUG
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# ============ 瀏覽器自動化設定 ============
# 瀏覽器模式配置 (Browser Mode Only)
API_MODE=browser
BROWSER_HEADLESS=true
PUTER_MODEL=claude-sonnet-4
BROWSER_TIMEOUT=60
BROWSER_WAIT_TIME=5

# 模型設定
MAX_TOKENS=4000
TEMPERATURE=0.1

# ============ 向量資料庫設定 ============
VECTOR_DB_PATH=./oran_nephio_vectordb
COLLECTION_NAME=oran_nephio_official_dev
EMBEDDINGS_CACHE_PATH=./embeddings_cache

# ============ 文本處理設定 ============
CHUNK_SIZE=1024
CHUNK_OVERLAP=200
MAX_RETRIES=3
REQUEST_TIMEOUT=30

# ============ 檢索設定 ============
RETRIEVER_K=6
RETRIEVER_FETCH_K=15
RETRIEVER_LAMBDA_MULT=0.7

# ============ 日誌設定 ============
LOG_FILE=logs/oran_nephio_rag.log
LOG_FORMAT=detailed
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=7

# ============ Redis 設定 ============
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TIMEOUT=5
REDIS_CONNECTION_POOL_SIZE=10

# ============ 自動同步設定 ============
AUTO_SYNC_ENABLED=true
SYNC_INTERVAL_HOURS=24
SYNC_ON_STARTUP=false

# ============ 開發工具設定 ============
AUTO_RELOAD=true
RELOAD_DIRS=/app/src,/app/main.py
RELOAD_DELAY=1
ENABLE_PROFILER=true
ENABLE_METRICS=true

# ============ 安全設定 (開發環境寬鬆) ============
VERIFY_SSL=true
SSL_TIMEOUT=30
ALLOW_CORS=true
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============ 資料庫設定 (開發用 PostgreSQL) ============
DATABASE_URL=postgresql://oran_user:oran_pass@postgres:5432/oran_rag
DATABASE_POOL_SIZE=5
DATABASE_POOL_TIMEOUT=30

# ============ 監控設定 ============
ENABLE_PROMETHEUS_METRICS=true
PROMETHEUS_METRICS_PORT=9100
METRICS_PATH=/metrics

# ============ 文件處理設定 ============
MIN_CONTENT_LENGTH=500
MIN_EXTRACTED_CONTENT_LENGTH=100
MIN_LINE_LENGTH=3
MAX_LINE_MERGE_LENGTH=80
CONTENT_PREVIEW_LENGTH=200
MIN_KEYWORD_COUNT=2

# ============ 重試和延遲設定 ============
RETRY_DELAY_BASE=2.0
MAX_RETRY_DELAY=10
REQUEST_DELAY=1.0

# ============ Jupyter 設定 ============
JUPYTER_ENABLE_LAB=yes
JUPYTER_PORT=8888
JUPYTER_TOKEN=
JUPYTER_PASSWORD=

# ============ Grafana 設定 ============
GRAFANA_PASSWORD=admin

# ============ MinIO 設定 ============
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# ============ PostgreSQL 設定 ============
POSTGRES_DB=oran_rag
POSTGRES_USER=oran_user
POSTGRES_PASSWORD=oran_pass

# ============ Elasticsearch 設定 ============
ELASTICSEARCH_HOSTS=http://elasticsearch:9200
ELASTICSEARCH_INDEX=oran-rag-logs

# ============ 效能調優 (開發環境) ============
WORKERS=1
WORKER_TIMEOUT=120
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
PRELOAD_APP=false

# ============ 快取設定 ============
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ============ 調試設定 ============
ENABLE_DEBUG_TOOLBAR=true
PROFILE_QUERIES=true
SLOW_QUERY_THRESHOLD=1.0

# ============ 測試設定 ============
TESTING=false
TEST_DATABASE_URL=postgresql://oran_user:oran_pass@postgres:5432/oran_rag_test

# ============ 開發服務器設定 ============
DEV_SERVER_HOST=0.0.0.0
DEV_SERVER_PORT=8000
DEV_SERVER_RELOAD=true